<div v-if="blogpost.length !== 0">
    <v-row class="px-3 ma-0" >
    
    <v-col cols="12" md="10" >
        <h2 class="primary--text">{{titulo}}</h2>
        <p v-if="subtitulos !== ''">{{subtitulos}}</p>
    </v-col>
    
    <v-col cols="12" md="2"  style="text-align: right;" >
       <v-btn v-if="linkmas!=='#'" class="melon white--text rounded-pill btn_crearG" :to="'/'+linkmas"  >Ver m√°s</v-btn> 
    </v-col>
            <v-col 
                v-for="(key,index) in blogpost" 
                :key="'post_'+index" 
                cols="12" md="3" sm="6" 
                class=" mb-3" 
                v-if="key.edopost === 'publico' || datosUsuario.id === key.idCreador"
            >
                <v-card
                    class=" grey lighten-3 d-flex justify-center align-center mx-2 "
                    style="overflow: hidden;"
                    height="150px"
                >
                <!-- v-if="key.urlImagen!==''"  -->

                    <v-img
                    :src="key.urlImagen === '' || key.urlImagen === 'none'  ? 'images/logos/planeta_preescolar_logo.png' : key.urlImagen"
                    contain
                    class="fotomini"
                    @click="muestrapost(key)"
                    
                    >
                    <v-fab-transition class="pb-5 d-flex " v-if ="!esFavoritos">
                        <v-btn
                            :key="'fav_'+index"
                            
                            fab
                            x-small
                            absolute
                            bottom
                            left
                            class="v-btn--example mb-7"
                        >
                            <v-icon 
                                v-if="key.favoritos.includes(datosUsuario.id)" 
                                color="red accent-4"
                                
                                @click.stop="changeRecursosFavoritos({estado: 'remove',key, tipo})"
                            >mdi-heart</v-icon>
                            <v-icon 
                                v-else 
                                color="red accent-4"
                                
                                @click.stop="changeRecursosFavoritos({estado: 'add',key, tipo})"
                            >mdi-heart-outline</v-icon>
                        </v-btn>
                      </v-fab-transition>

                      <v-fab-transition class="pb-5">
                        <v-btn
                            :key="'com_'+index"
                            color="white"
                            
                            x-small
                            absolute
                            bottom
                            right
                            class=" mt-5"
                        >
                        <v-icon 
                            color="melon"
                        >mdi-comment</v-icon>
                            <!-- <span class="ml-2">100</span> -->
                            <span class="ml-2">{{key.comentarios.length}}</span>
                        </v-btn> 
                      </v-fab-transition>


                      <v-fab-transition class="pb-5" v-if="key.tipo !== 'blog' && key.tipo !== 'memoria' && key.tipo !== 'reflexion'">
                        <v-btn
                            :key="'edo_'+index"
                            :color="key.premium === true ? 'melon' : 'primary'"
                            x-small
                            absolute
                            top
                            right
                            class="v-btn--example"
                        >
                            <span class="white--text" v-if="key.premium === true">Premium</span>
                            <span class="white--text" v-else>Free</span>
                        </v-btn> 
                      </v-fab-transition>

                      
                
                    </v-img>
                    
                </v-card>
        
                <div>
                    <div v-if="subtipo==='memoria' || subtipo === 'reflexion'" class=" ml-3 textos">
                        <h4>{{key.titulo}}</h4>
                        <p>{{key.nombreCreador}}</p>
                        <!-- <p class="texto_mb">{{ fechaVisual(key.fecha) }}</p> -->
                        <!-- <p class="datosGrupo">{{el.cicloEscolar}}</p>
                        <p class="datosGrupo">{{el.total}} alumnos</p> -->
                    </div>
    
                    <div 
                        v-if="subtipo==='blog'" 
                        class=" ml-3 textos"
                    >
                        <h4>{{key.titulo}}</h4>
                        <p class="datos_extra">{{key.nombreCreador}}</p>
                        <fechaComponent :fecha="key.fecha" />
                        <!-- <p class="datos_extra">{{key.fecha}}</p> -->
                    </div>
                    
                    <div v-if="subtipo==='planeacion' || subtipo==='recurso' || subtipo==='recomendacion'" class=" ml-3 textos">
                        <!-- <p class="datos_extra">{{key}}</p> -->
                        
                        <h4>{{key.titulo}}</h4>
                        <p class="datos_extra">{{key.materia}}</p>
                        <!-- <p class="datos_extra">{{key.grado}}</p> -->
                        
                        <p class="datos_extra">{{key.sinopsis.substr(0,90)}}</p>
                    </div>
                    
                    
                </div>
        
            </v-col>
    </v-row>
    
    <v-dialog v-model="dialogPost" fullscreen >
        <v-card >
        <v-card-title class="primary white--text"> 
            <span class="viewmobil">  
                <v-icon  class="white--text"  @click.stop="drawer = !drawer" > mdi-menu </v-icon>
            </span>
    
          
            <img src="  images/logos/planeta_preescolar_bco.png" width="55" class="miniMovil" />
        
              &nbsp;  &nbsp; 
              
            <div class="menu-sec datamenu" v-if="datosUsuario.userlogin===true"  >
                <div class="primary white--text pa-1 " style="border-radius:10px; width:100%; max-width:210px;" >
                    <v-avatar
                        color="secondary"
                        size="36" 
                    >
                    <img 
                        v-if="datosUsuario.urlImagen" 
                        :src="datosUsuario.urlImagen === 'none' || datosUsuario.urlImagen==='' ? 'https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png' : datosUsuario.urlImagen" width="100%" 
                    />
                    </v-avatar>
        
                    <span class="vMmobilview" >{{ (datosUsuario.nombre+" "+ datosUsuario.apellido).substr(0,13) }}</span> 
    
                </div>
            </div>
            <v-spacer></v-spacer>
            <v-btn class="melon white--text" @click="dialogPost=false; viewpost = false; viewothers = false;" style="text-transform: none;">Cerrar</v-btn>
        </v-card-title>
        
        <postSeleccionado 
            v-if="viewpost" 
            :vistapost="vistapost"
            :fechaVisual="fechaVisual"
            :subtipo="subtipo"
            :spinner="spinner"
            :urlFileB="urlFileB"
            :nombreFile="nombreFile"
            :linkembed="linkembed"
        />
        <!-- VISTA RELACIONADOS -->
        
        <postGeneral 
            v-if="viewothers" 
            :vistapost="vistapost"
            :posts:="blogpost"
            :subtipo="subtipo"
            :viewothers ="viewothers" @updateviewO="viewothers=$event"
            :viewpost="viewpost" @updateviewP="viewpost=$event"
        />
        
            
        </v-card>
    </v-dialog>
    
</div>