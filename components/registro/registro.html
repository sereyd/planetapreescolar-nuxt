
<v-container px-16> 
    <v-form ref="form"
    v-model="valid"
    lazy-validation
    >
        <div >
            <div  hidden>
                <input type="file" @change = "change" ref="fileupload"/>
            </div> 
            <div class=" d-flex justify-center align-center">
                <div>
                    <v-btn
                        class="pa-10 mx-6 "
                        color="purple lighten-5"
                        fab  dark
                        @click="focus">
                    <div v-if="!imagen" >
                        <v-icon color="pink darken-4"  style="font-size: 80px;">mdi-plus</v-icon>
                    </div>
                    <div v-else >
                        <v-avatar size="80" > 
                            <v-img
                            :src="urlImagenPrevia"
                            alt="foto"
                            ></v-img>
                        </v-avatar>
                    </div>
                    </v-btn>
                    <h3 class="text-center mt-3">Foto de perfil</h3>
                </div>  
            </div>
                <v-select
                    v-model="datosUsuarioR.tipo"
                    :items="tipos"
                    :rules="[v => !!v || 'Seleccione un tipo']"
                    placeholder="Tipo:"
                    required

                    cols="4" sm="4"
                    style="width: 28%;"
                ></v-select>
                <v-text-field
                    v-model="datosUsuarioR.nombre"
                    placeholder="Nombre:"
                    required

                    single-line
                    solo
                    :rules="nombreReglas"
                ></v-text-field>
                <v-text-field
                    v-model="datosUsuarioR.apellido"
                    placeholder="Apellido:"
                    required
                    single-line
                    solo
                    :rules="apellidoReglas"
                ></v-text-field>

                <v-text-field
                    v-model="datosUsuarioR.correo"
                    placeholder="Email:"
                    required
                    single-line
                    solo
                    :rules="correoReglas"
                ></v-text-field>
                <v-text-field
                    v-model="confirmarCorreo"
                    placeholder="Confirmar Email:"
                    required
                    single-line
                    solo
                    :rules="correoReglas2"  
                ></v-text-field>    
                <v-text-field
                    v-model="password"
                    :append-icon="showPass ? 'mdi-eye' : 'mdi-eye-off'"
                    :type="showPass ? 'text' : 'password'"
                    @click:append="showPass = !showPass"
                    placeholder="Contraseña:"
                    required
                    single-line
                    solo

                    :rules="passwordReglas" 
                ></v-text-field>

                <v-text-field
                    v-model="confirmarPassword"
                    :append-icon="showPass2 ? 'mdi-eye' : 'mdi-eye-off'"
                    :type="showPass2 ? 'text' : 'password'"
                    @click:append="showPass2 = !showPass2"
                    placeholder="Confirmar Contraseña:"
                    required
                    single-line
                    solo
                    :rules="passwordReglas2"    
                ></v-text-field>

                <v-btn v-if="!spinner"
                 dark block
                class="pink darken-4 px-10" 
                @click="validate"> Crear cuenta</v-btn>

                <v-alert v-if="error" type="error" class="mt-3">
                    {{mensajeError}}
                </v-alert>
        </div>
        <!-- SPINNER -->
        <div v-if="spinner" class=" d-flex justify-center align-center">
            <div class=" sk-chase">
                <div class="sk-chase-dot"></div>
                <div class="sk-chase-dot"></div>
                <div class="sk-chase-dot"></div>
                <div class="sk-chase-dot"></div>
                <div class="sk-chase-dot"></div>
                <div class="sk-chase-dot"></div>
            </div>
        </div>

    </v-form>

    <v-divider inset class="mt-6" ></v-divider>

    <v-checkbox
        v-if="!spinner"
        color="pink darken-4"
        v-model="checkbox"
        :rules="[v => !!v || 'You must agree to continue!']"
        label="Acepto términos y condiciones"
        required
    ></v-checkbox>
    <v-btn v-if="!spinner"
        dark block
        class="blue px-10 mb-2" 
        @click="registroExterno('google')">Registrate con Google</v-btn>
    <v-btn v-if="!spinner"
        dark block
        class="blue darken-4 px-10" 
        @click="registroExterno('facebook')">Registrate con Facebook</v-btn>

</v-container>